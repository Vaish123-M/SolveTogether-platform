{"ast":null,"code":"import React,{createContext,useContext,useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const LS={dark:'eh_dark',contrast:'eh_contrast',fontSize:'eh_fontSize',tts:'eh_tts'};const AccessibilityContext=/*#__PURE__*/createContext(null);function readBool(key){let def=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;try{const v=localStorage.getItem(key);return v==='1'?true:v==='0'?false:def;}catch(e){return def;}}function readFont(key){try{const v=localStorage.getItem(key);return v||'16';}catch(e){return'16';}}export function AccessibilityProvider(_ref){let{children}=_ref;const[dark,setDark]=useState(readBool(LS.dark,false));const[contrast,setContrast]=useState(readBool(LS.contrast,false));const[fontSize,setFontSize]=useState(readFont(LS.fontSize));const[tts,setTts]=useState(readBool(LS.tts,false));useEffect(()=>{try{localStorage.setItem(LS.dark,dark?'1':'0');}catch(e){}const root=document.documentElement;if(dark)root.classList.add('theme-dark');else root.classList.remove('theme-dark');},[dark]);useEffect(()=>{try{localStorage.setItem(LS.contrast,contrast?'1':'0');}catch(e){}const root=document.documentElement;if(contrast)root.classList.add('theme-contrast');else root.classList.remove('theme-contrast');},[contrast]);useEffect(()=>{try{localStorage.setItem(LS.fontSize,fontSize);}catch(e){}document.documentElement.style.setProperty('--base-font-size',fontSize+'px');},[fontSize]);useEffect(()=>{try{localStorage.setItem(LS.tts,tts?'1':'0');}catch(e){}},[tts]);// small helper to speak when TTS enabled\nconst speak=text=>{if(!tts)return;try{const u=new SpeechSynthesisUtterance(text);window.speechSynthesis.cancel();window.speechSynthesis.speak(u);}catch(e){/* ignore */}};const reset=()=>{setDark(false);setContrast(false);setFontSize('16');setTts(false);};return/*#__PURE__*/_jsx(AccessibilityContext.Provider,{value:{dark,setDark,contrast,setContrast,fontSize,setFontSize,tts,setTts,speak,reset},children:children});}export function useAccessibility(){const ctx=useContext(AccessibilityContext);if(!ctx)throw new Error('useAccessibility must be used inside AccessibilityProvider');return ctx;}","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","jsx","_jsx","LS","dark","contrast","fontSize","tts","AccessibilityContext","readBool","key","def","arguments","length","undefined","v","localStorage","getItem","e","readFont","AccessibilityProvider","_ref","children","setDark","setContrast","setFontSize","setTts","setItem","root","document","documentElement","classList","add","remove","style","setProperty","speak","text","u","SpeechSynthesisUtterance","window","speechSynthesis","cancel","reset","Provider","value","useAccessibility","ctx","Error"],"sources":["C:/Users/vaish/OneDrive/Desktop/EnableHub/EnableHub/client/src/context/AccessibilityContext.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState } from 'react'\r\n\r\nconst LS = {\r\n  dark: 'eh_dark',\r\n  contrast: 'eh_contrast',\r\n  fontSize: 'eh_fontSize',\r\n  tts: 'eh_tts'\r\n}\r\n\r\nconst AccessibilityContext = createContext(null)\r\n\r\nfunction readBool(key, def = false){\r\n  try { const v = localStorage.getItem(key); return v === '1' ? true : v === '0' ? false : def } catch(e){ return def }\r\n}\r\n\r\nfunction readFont(key){\r\n  try { const v = localStorage.getItem(key); return v || '16' } catch(e){ return '16' }\r\n}\r\n\r\nexport function AccessibilityProvider({ children }){\r\n  const [dark, setDark] = useState(readBool(LS.dark, false))\r\n  const [contrast, setContrast] = useState(readBool(LS.contrast, false))\r\n  const [fontSize, setFontSize] = useState(readFont(LS.fontSize))\r\n  const [tts, setTts] = useState(readBool(LS.tts, false))\r\n\r\n  useEffect(()=>{\r\n    try{ localStorage.setItem(LS.dark, dark ? '1' : '0') }catch(e){}\r\n    const root = document.documentElement\r\n    if(dark) root.classList.add('theme-dark')\r\n    else root.classList.remove('theme-dark')\r\n  },[dark])\r\n\r\n  useEffect(()=>{\r\n    try{ localStorage.setItem(LS.contrast, contrast ? '1' : '0') }catch(e){}\r\n    const root = document.documentElement\r\n    if(contrast) root.classList.add('theme-contrast')\r\n    else root.classList.remove('theme-contrast')\r\n  },[contrast])\r\n\r\n  useEffect(()=>{\r\n    try{ localStorage.setItem(LS.fontSize, fontSize) }catch(e){}\r\n    document.documentElement.style.setProperty('--base-font-size', fontSize + 'px')\r\n  },[fontSize])\r\n\r\n  useEffect(()=>{\r\n    try{ localStorage.setItem(LS.tts, tts ? '1' : '0') }catch(e){}\r\n  },[tts])\r\n\r\n  // small helper to speak when TTS enabled\r\n  const speak = (text) => {\r\n    if(!tts) return\r\n    try{\r\n      const u = new SpeechSynthesisUtterance(text)\r\n      window.speechSynthesis.cancel()\r\n      window.speechSynthesis.speak(u)\r\n    }catch(e){ /* ignore */ }\r\n  }\r\n\r\n  const reset = () => {\r\n    setDark(false)\r\n    setContrast(false)\r\n    setFontSize('16')\r\n    setTts(false)\r\n  }\r\n\r\n  return (\r\n    <AccessibilityContext.Provider value={{ dark, setDark, contrast, setContrast, fontSize, setFontSize, tts, setTts, speak, reset }}>\r\n      {children}\r\n    </AccessibilityContext.Provider>\r\n  )\r\n}\r\n\r\nexport function useAccessibility(){\r\n  const ctx = useContext(AccessibilityContext)\r\n  if(!ctx) throw new Error('useAccessibility must be used inside AccessibilityProvider')\r\n  return ctx\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}