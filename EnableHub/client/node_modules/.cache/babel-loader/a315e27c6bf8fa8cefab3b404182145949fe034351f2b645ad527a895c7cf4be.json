{"ast":null,"code":"const LS_KEY = 'eh_community_showcase';\nfunction readAll() {\n  try {\n    const raw = localStorage.getItem(LS_KEY);\n    if (!raw) return [];\n    return JSON.parse(raw);\n  } catch (e) {\n    return [];\n  }\n}\nfunction saveAll(items) {\n  try {\n    localStorage.setItem(LS_KEY, JSON.stringify(items));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nexport function addSubmission({\n  title,\n  description,\n  url,\n  tags\n}) {\n  const items = readAll();\n  const id = 's_' + Date.now();\n  const newItem = {\n    id,\n    title,\n    description,\n    url,\n    tags: tags || [],\n    createdAt: new Date().toISOString(),\n    ratings: [],\n    feedback: []\n  };\n  items.unshift(newItem);\n  saveAll(items);\n  return newItem;\n}\nexport function listSubmissions() {\n  return readAll();\n}\nexport function addRating(id, score) {\n  const items = readAll();\n  const it = items.find(i => i.id === id);\n  if (!it) return false;\n  it.ratings.push({\n    score: Number(score),\n    at: new Date().toISOString()\n  });\n  saveAll(items);\n  return true;\n}\nexport function addFeedback(id, author, text) {\n  const items = readAll();\n  const it = items.find(i => i.id === id);\n  if (!it) return false;\n  it.feedback.push({\n    author: author || 'Anonymous',\n    text,\n    at: new Date().toISOString()\n  });\n  saveAll(items);\n  return true;\n}\nexport function averageRating(item) {\n  if (!item || !item.ratings || item.ratings.length === 0) return 0;\n  const sum = item.ratings.reduce((s, r) => s + Number(r.score), 0);\n  return Math.round(sum / item.ratings.length * 10) / 10;\n}\nexport function clearAll() {\n  try {\n    localStorage.removeItem(LS_KEY);\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nexport default {\n  addSubmission,\n  listSubmissions,\n  addRating,\n  addFeedback,\n  averageRating,\n  clearAll\n};","map":{"version":3,"names":["LS_KEY","readAll","raw","localStorage","getItem","JSON","parse","e","saveAll","items","setItem","stringify","addSubmission","title","description","url","tags","id","Date","now","newItem","createdAt","toISOString","ratings","feedback","unshift","listSubmissions","addRating","score","it","find","i","push","Number","at","addFeedback","author","text","averageRating","item","length","sum","reduce","s","r","Math","round","clearAll","removeItem"],"sources":["C:/Users/vaish/OneDrive/Desktop/EnableHub/EnableHub/client/src/services/communityService.js"],"sourcesContent":["const LS_KEY = 'eh_community_showcase'\r\n\r\nfunction readAll(){\r\n  try{\r\n    const raw = localStorage.getItem(LS_KEY)\r\n    if(!raw) return []\r\n    return JSON.parse(raw)\r\n  }catch(e){ return [] }\r\n}\r\n\r\nfunction saveAll(items){\r\n  try{ localStorage.setItem(LS_KEY, JSON.stringify(items)); return true }catch(e){ return false }\r\n}\r\n\r\nexport function addSubmission({title, description, url, tags}){\r\n  const items = readAll()\r\n  const id = 's_' + Date.now()\r\n  const newItem = { id, title, description, url, tags: tags||[], createdAt: new Date().toISOString(), ratings: [], feedback: [] }\r\n  items.unshift(newItem)\r\n  saveAll(items)\r\n  return newItem\r\n}\r\n\r\nexport function listSubmissions(){\r\n  return readAll()\r\n}\r\n\r\nexport function addRating(id, score){\r\n  const items = readAll()\r\n  const it = items.find(i=>i.id===id)\r\n  if(!it) return false\r\n  it.ratings.push({ score: Number(score), at: new Date().toISOString() })\r\n  saveAll(items)\r\n  return true\r\n}\r\n\r\nexport function addFeedback(id, author, text){\r\n  const items = readAll()\r\n  const it = items.find(i=>i.id===id)\r\n  if(!it) return false\r\n  it.feedback.push({ author: author||'Anonymous', text, at: new Date().toISOString() })\r\n  saveAll(items)\r\n  return true\r\n}\r\n\r\nexport function averageRating(item){\r\n  if(!item || !item.ratings || item.ratings.length===0) return 0\r\n  const sum = item.ratings.reduce((s,r)=>s + Number(r.score),0)\r\n  return Math.round((sum / item.ratings.length) * 10) / 10\r\n}\r\n\r\nexport function clearAll(){\r\n  try{ localStorage.removeItem(LS_KEY); return true }catch(e){ return false }\r\n}\r\n\r\nexport default { addSubmission, listSubmissions, addRating, addFeedback, averageRating, clearAll }\r\n"],"mappings":"AAAA,MAAMA,MAAM,GAAG,uBAAuB;AAEtC,SAASC,OAAOA,CAAA,EAAE;EAChB,IAAG;IACD,MAAMC,GAAG,GAAGC,YAAY,CAACC,OAAO,CAACJ,MAAM,CAAC;IACxC,IAAG,CAACE,GAAG,EAAE,OAAO,EAAE;IAClB,OAAOG,IAAI,CAACC,KAAK,CAACJ,GAAG,CAAC;EACxB,CAAC,QAAMK,CAAC,EAAC;IAAE,OAAO,EAAE;EAAC;AACvB;AAEA,SAASC,OAAOA,CAACC,KAAK,EAAC;EACrB,IAAG;IAAEN,YAAY,CAACO,OAAO,CAACV,MAAM,EAAEK,IAAI,CAACM,SAAS,CAACF,KAAK,CAAC,CAAC;IAAE,OAAO,IAAI;EAAC,CAAC,QAAMF,CAAC,EAAC;IAAE,OAAO,KAAK;EAAC;AAChG;AAEA,OAAO,SAASK,aAAaA,CAAC;EAACC,KAAK;EAAEC,WAAW;EAAEC,GAAG;EAAEC;AAAI,CAAC,EAAC;EAC5D,MAAMP,KAAK,GAAGR,OAAO,CAAC,CAAC;EACvB,MAAMgB,EAAE,GAAG,IAAI,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC;EAC5B,MAAMC,OAAO,GAAG;IAAEH,EAAE;IAAEJ,KAAK;IAAEC,WAAW;IAAEC,GAAG;IAAEC,IAAI,EAAEA,IAAI,IAAE,EAAE;IAAEK,SAAS,EAAE,IAAIH,IAAI,CAAC,CAAC,CAACI,WAAW,CAAC,CAAC;IAAEC,OAAO,EAAE,EAAE;IAAEC,QAAQ,EAAE;EAAG,CAAC;EAC/Hf,KAAK,CAACgB,OAAO,CAACL,OAAO,CAAC;EACtBZ,OAAO,CAACC,KAAK,CAAC;EACd,OAAOW,OAAO;AAChB;AAEA,OAAO,SAASM,eAAeA,CAAA,EAAE;EAC/B,OAAOzB,OAAO,CAAC,CAAC;AAClB;AAEA,OAAO,SAAS0B,SAASA,CAACV,EAAE,EAAEW,KAAK,EAAC;EAClC,MAAMnB,KAAK,GAAGR,OAAO,CAAC,CAAC;EACvB,MAAM4B,EAAE,GAAGpB,KAAK,CAACqB,IAAI,CAACC,CAAC,IAAEA,CAAC,CAACd,EAAE,KAAGA,EAAE,CAAC;EACnC,IAAG,CAACY,EAAE,EAAE,OAAO,KAAK;EACpBA,EAAE,CAACN,OAAO,CAACS,IAAI,CAAC;IAAEJ,KAAK,EAAEK,MAAM,CAACL,KAAK,CAAC;IAAEM,EAAE,EAAE,IAAIhB,IAAI,CAAC,CAAC,CAACI,WAAW,CAAC;EAAE,CAAC,CAAC;EACvEd,OAAO,CAACC,KAAK,CAAC;EACd,OAAO,IAAI;AACb;AAEA,OAAO,SAAS0B,WAAWA,CAAClB,EAAE,EAAEmB,MAAM,EAAEC,IAAI,EAAC;EAC3C,MAAM5B,KAAK,GAAGR,OAAO,CAAC,CAAC;EACvB,MAAM4B,EAAE,GAAGpB,KAAK,CAACqB,IAAI,CAACC,CAAC,IAAEA,CAAC,CAACd,EAAE,KAAGA,EAAE,CAAC;EACnC,IAAG,CAACY,EAAE,EAAE,OAAO,KAAK;EACpBA,EAAE,CAACL,QAAQ,CAACQ,IAAI,CAAC;IAAEI,MAAM,EAAEA,MAAM,IAAE,WAAW;IAAEC,IAAI;IAAEH,EAAE,EAAE,IAAIhB,IAAI,CAAC,CAAC,CAACI,WAAW,CAAC;EAAE,CAAC,CAAC;EACrFd,OAAO,CAACC,KAAK,CAAC;EACd,OAAO,IAAI;AACb;AAEA,OAAO,SAAS6B,aAAaA,CAACC,IAAI,EAAC;EACjC,IAAG,CAACA,IAAI,IAAI,CAACA,IAAI,CAAChB,OAAO,IAAIgB,IAAI,CAAChB,OAAO,CAACiB,MAAM,KAAG,CAAC,EAAE,OAAO,CAAC;EAC9D,MAAMC,GAAG,GAAGF,IAAI,CAAChB,OAAO,CAACmB,MAAM,CAAC,CAACC,CAAC,EAACC,CAAC,KAAGD,CAAC,GAAGV,MAAM,CAACW,CAAC,CAAChB,KAAK,CAAC,EAAC,CAAC,CAAC;EAC7D,OAAOiB,IAAI,CAACC,KAAK,CAAEL,GAAG,GAAGF,IAAI,CAAChB,OAAO,CAACiB,MAAM,GAAI,EAAE,CAAC,GAAG,EAAE;AAC1D;AAEA,OAAO,SAASO,QAAQA,CAAA,EAAE;EACxB,IAAG;IAAE5C,YAAY,CAAC6C,UAAU,CAAChD,MAAM,CAAC;IAAE,OAAO,IAAI;EAAC,CAAC,QAAMO,CAAC,EAAC;IAAE,OAAO,KAAK;EAAC;AAC5E;AAEA,eAAe;EAAEK,aAAa;EAAEc,eAAe;EAAEC,SAAS;EAAEQ,WAAW;EAAEG,aAAa;EAAES;AAAS,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}